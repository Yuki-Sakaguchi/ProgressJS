<!--
    なんちゃってロード
    何も計測しない版
    minSecondsに設定したmsかけて、1〜100%まで表示する
-->
<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Progress</title>
        <style>
            .progress {
                position: fixed;
                top: 0;
                right: 0;
                bottom: 0;
                left: 0;
                margin: auto;
                background-color: white;
                display: flex;
                justify-content: center;
                align-items: center;
                transition: 1s;
            }
            .progress__text {
                color: turquoise;
                font-weight: bold;
            }
            .progress__bar {
                position: absolute;
                left: 0;
                width: 0; /* width: 100%; */
                height: 10px;
                background-color: turquoise;
                margin-top: 20px;
            }
        </style>
    </head>
    <body>
        <!-- loading -->
        <div class="progress">
            <div class="progress__text">0</div>
            <div class="progress__bar"></div>
        </div>

        <!-- contents -->
        <div>
            <p>
                sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample 
                sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample 
                sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample 
                sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample 
                sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample sample 
            </p>
        </div>

        <script src="js/progress.js"></script>
        <script>
            var elProgress = document.querySelector('.progress')
            var elProgressText = elProgress.querySelector('.progress__text')
            var elProgressBar = elProgress.querySelector('.progress__bar')

            var progress = new Progress({
                about: true,
                minSeconds: 2000
            })

            window.addEventListener('progressStart', function () {
                console.log('start', progress.progress)
                elProgressText.textContent = progress.progress
            })
            window.addEventListener('progressUpdate', function () {
                console.log('update', progress.progress)
                elProgressText.textContent = progress.progress
                elProgressBar.style.width = progress.progress + "%"
            })
            window.addEventListener('progressComplete', function () {
                console.log('complete', progress.progress)
                elProgressText.textContent = progress.progress
                elProgressBar.style.width = progress.progress + "%"
                elProgress.style.opacity = "0"
            })
            elProgress.addEventListener('transitionend', function () {
                elProgress.remove()
            })
            progress.start() 
        </script>
    </body>
</html> 